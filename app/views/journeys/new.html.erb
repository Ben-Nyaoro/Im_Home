
<div class="container d-xl-flex">
  <div class="row justify-content-xl-center">
    <%  buddies_array = [] %>
    <%  @buddies.each do |s| %>
      <%  buddies_array << [s.name, s.id] %>
    <%  end %>

			<%= simple_form_for [@journey] do |f| %>
        <div id="buddy">
          <%= f.input :buddy_id, collection: buddies_array%>
        </div>
        <div data-contoller="visibility">
          <div data-visibility-target="hideable">
            <%= f.input :starting_point, collection: @user_safe_places.collect {|place| [ place.name, place.address_id ] }, include_blank: true %>
          </div>
          <button type="button" data-action="visibility#hideTargets">Add address manually</button>
          <div data-visibility-target="hideable">
            <%= f.simple_fields_for :starting_point_id do |address_subform| %>
              <%= address_subform.text_field :address_line1 %>
              <%= address_subform.text_field :address_line2 %>
              <%= address_subform.number_field :postcode %>
              <%= address_subform.text_field :city %>
            <% end %>
          </div>

          <div id="destination" data-visibility-target="hideable">
            <%=f.input :destination, collection: @user_safe_places.collect {|place| [ place.name, place.address_id ] }, include_blank: true %>
          </div>
          <button type="button" data-action="visibility#hideTargets">Add address manually</button>
          <div data-visibility-target="hideable" >
              <%= f.simple_fields_for :destination_id do |address_subform| %>
                <%= address_subform.text_field :address_line1 %>
                <%= address_subform.text_field :address_line2 %>
                <%= address_subform.number_field :postcode %>
                <%= address_subform.text_field :city %>
              <% end %>
          </div>
        </div>
        <div id="modeandtime">
          <%= f.input :mode_of_transportation, collection: ["Bus", "Train", "Taxi/Uber", "Car", "Foot"] %>
          <%= f.input :time_estimate, collection: [10, 20, 30, 40, 50, 60] %>
        </div>
        <%= f.submit class: 'btn btn-info' %>
			<% end %>

  </div>
</div>
